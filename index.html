Skip to main content
Misterio Digital de Avatares
Model response
ThinkingThoughts
(experimental)
Auto
Expand to view model thoughts

chevron_right
Model response
ThinkingThoughts
(experimental)
Auto
Expand to view model thoughts

chevron_right
Model response
ThinkingThoughts
(experimental)
Auto
Expand to view model thoughts

chevron_right
Model response
ThinkingThoughts
(experimental)
Auto
Expand to view model thoughts

chevron_right
¬°Excelente! He reestructurado completamente el juego para incorporar todas tus nuevas ideas: un sistema de niveles, una nueva mec√°nica de decisi√≥n, vidas, puntuaci√≥n y m√°s variedad de mensajes.
Resumen de los Cambios:
Vidas y Puntuaci√≥n: La pantalla ahora muestra 3 corazones (vidas) en la esquina superior derecha y una puntuaci√≥n en la izquierda.
Nueva Mec√°nica Central:
Al hablar con un avatar, debes decidir si su mensaje es seguro o inseguro.
Si crees que es seguro, usa la Lupa de la Verdad üîç.
Si crees que es inseguro, presiona el Bot√≥n de Alerta üö®.
Consecuencias:
Acierto: Ganas 1 punto, el avatar se desactiva y contin√∫as.
Error: Pierdes una vida (un coraz√≥n) y recibes una pista para que vuelvas a intentarlo con ese mismo avatar.
Niveles (Casos): He creado 3 casos diferentes con mensajes cada vez m√°s sutiles para el "Impostor Digital". Debes resolver ambos avatares de un caso para pasar al siguiente.
Flujo del Juego: El juego ahora progresa de caso en caso. Si pierdes todas tus vidas, el juego termina. Si resuelves todos los casos, ganas.
Tutorial Actualizado: La Jefa de Seguridad ahora explica las nuevas reglas al principio del juego.
Copia y pega el siguiente c√≥digo en tu archivo .html para jugar la versi√≥n actualizada.
C√≥digo Completo del Juego (Versi√≥n con Niveles, Vidas y Puntuaci√≥n)
code
Html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Misterio del Festival de Avatares</title>
    <style>
        /* --- ESTILOS GENERALES Y FUENTES --- */
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap');

        :root {
            --color-principal: #2a9d8f;
            --color-secundario: #e9c46a;
            --color-peligro: #e76f51;
            --color-texto: #264653;
        }

        * { box-sizing: border-box; user-select: none; }
        html, body { height: 100%; margin: 0; overflow: hidden; font-family: 'Nunito', sans-serif; background-color: #1a1a1a; }
        body { display: flex; justify-content: center; align-items: center; }

        #game-container {
            width: 100%; max-width: 900px; height: 95%; max-height: 600px;
            background: linear-gradient(180deg, #87CEEB 0%, #f4a261 70%);
            border: 8px solid var(--color-texto); border-radius: 20px;
            position: relative; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        #game-screen { position: absolute; width: 100%; height: 100%; z-index: 1; }

        /* --- ESTAD√çSTICAS (VIDAS Y PUNTOS) --- */
        #stats-container {
            position: absolute; top: 15px; left: 20px; right: 20px;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 150; font-family: 'Fredoka One', cursive;
        }
        #score-container, #lives-container {
            background-color: rgba(255,255,255,0.7); padding: 5px 15px;
            border-radius: 20px; border: 3px solid var(--color-texto);
            font-size: 24px; color: var(--color-texto);
        }
        #lives-container { font-size: 28px; letter-spacing: 2px; }

        /* --- AVATARES --- */
        .avatar {
            position: absolute; width: 100px; height: 120px; cursor: pointer;
            transition: transform 0.3s ease, filter 0.3s;
            animation: bob 3s ease-in-out infinite; filter: drop-shadow(3px 5px 2px rgba(0,0,0,0.3));
        }
        .avatar:hover { transform: scale(1.1) translateY(-5px); }
        .avatar.hidden { display: none; }
        .avatar.inactive { filter: grayscale(80%) brightness(0.7); cursor: not-allowed; }
        .avatar .head {
            width: 80px; height: 80px; border-radius: 50%; border: 4px solid var(--color-texto);
            position: absolute; left: 10px; top: 0;
        }
        .avatar .body {
            width: 100px; height: 60px; border-radius: 40% 40% 0 0;
            position: absolute; bottom: 0; border: 4px solid var(--color-texto); border-bottom: none;
        }

        #jefa { left: 50px; bottom: 80px; }
        #jefa .head { background-color: #f7a; } #jefa .body { background-color: #0077b6; }
        #amistoso { left: 350px; bottom: 120px; }
        #amistoso .head { background-color: #80ed99; } #amistoso .body { background-color: #ffd60a; }
        #impostor { right: 150px; bottom: 100px; }
        #impostor .head { background-color: #adb5bd; } #impostor .body { background-color: #343a40; }
        
        @keyframes bob { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* --- INTERFAZ DE USUARIO (UI) --- */
        #ui-container {
            position: absolute; bottom: 20px; right: 20px; display: flex; gap: 15px; z-index: 100;
        }
        .ui-btn {
            width: 80px; height: 80px; border-radius: 50%; border: 5px solid white;
            font-size: 40px; cursor: pointer; transition: all 0.2s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        .ui-btn:hover { transform: scale(1.1); box-shadow: 0 6px 10px rgba(0,0,0,0.3); }
        .ui-btn:active { transform: scale(0.95); }
        .ui-btn.disabled {
            background-color: #aaa !important; cursor: not-allowed; transform: scale(1); filter: grayscale(1);
        }
        #lupa-btn { background-color: #2a9d8f; }
        #alerta-btn { background-color: #e76f51; }

        /* --- CUADRO DE DI√ÅLOGO --- */
        #dialogue-box {
            position: absolute; bottom: 10px; left: 10px; right: 200px; height: 120px;
            background-color: rgba(255, 255, 255, 0.9); border: 5px solid var(--color-texto);
            border-radius: 15px; padding: 15px; z-index: 50; cursor: pointer; transition: opacity 0.3s;
        }
        #dialogue-box.hidden { opacity: 0; pointer-events: none; }
        #character-name { font-family: 'Fredoka One', cursive; font-size: 22px; color: var(--color-principal); margin: 0 0 5px 0; }
        #dialogue-text { font-size: 18px; line-height: 1.4; color: var(--color-texto); }
        #next-indicator { position: absolute; bottom: 10px; right: 15px; font-size: 20px; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        
        #skip-tutorial-btn {
            position: absolute; top: -45px; right: 5px; padding: 8px 15px;
            background-color: var(--color-secundario); color: var(--color-texto);
            border: 3px solid var(--color-texto); border-radius: 10px; font-weight: bold; cursor: pointer;
        }
        .risky-link { text-decoration: underline; font-weight: bold; color: var(--color-peligro); }

        /* --- MODAL --- */
        #modal-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center;
            z-index: 200; opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        #modal-overlay.visible { opacity: 1; pointer-events: all; }
        #modal-content {
            background: white; padding: 30px; border-radius: 20px;
            border: 8px solid var(--color-secundario); text-align: center;
            width: 80%; max-width: 500px; position: relative;
        }
        #modal-content h2 { font-family: 'Fredoka One', cursive; font-size: 32px; color: var(--color-principal); margin-top: 0; }
        #modal-content p { font-size: 18px; color: var(--color-texto); }
        #modal-content button {
            padding: 15px 30px; font-size: 20px; font-weight: bold;
            border-radius: 12px; border: none; cursor: pointer;
            background-color: var(--color-principal); color: white; margin-top: 15px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="stats-container">
            <div id="score-container">Puntos: 0</div>
            <div id="lives-container">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        </div>
        <div id="game-screen">
            <div id="jefa" class="avatar"><div class="head"></div><div class="body"></div></div>
            <div id="amistoso" class="avatar hidden"><div class="head"></div><div class="body"></div></div>
            <div id="impostor" class="avatar hidden"><div class="head"></div><div class="body"></div></div>
        </div>
        <div id="ui-container">
            <button id="lupa-btn" class="ui-btn disabled">üîç</button>
            <button id="alerta-btn" class="ui-btn disabled">üö®</button>
        </div>
        <div id="dialogue-box">
            <button id="skip-tutorial-btn" style="display: none;">Saltar Tutorial</button>
            <h3 id="character-name"></h3>
            <p id="dialogue-text"></p>
            <div id="next-indicator">‚ñº</div>
        </div>
        <div id="modal-overlay">
            <div id="modal-content">
                <h2 id="modal-title"></h2>
                <p id="modal-text"></p>
                <button id="modal-button"></button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const elements = {
                dialogueBox: document.getElementById('dialogue-box'),
                characterName: document.getElementById('character-name'),
                dialogueText: document.getElementById('dialogue-text'),
                skipTutorialBtn: document.getElementById('skip-tutorial-btn'),
                jefa: document.getElementById('jefa'),
                amistoso: document.getElementById('amistoso'),
                impostor: document.getElementById('impostor'),
                lupaBtn: document.getElementById('lupa-btn'),
                alertaBtn: document.getElementById('alerta-btn'),
                modal: {
                    overlay: document.getElementById('modal-overlay'),
                    title: document.getElementById('modal-title'),
                    text: document.getElementById('modal-text'),
                    button: document.getElementById('modal-button'),
                },
                score: document.getElementById('score-container'),
                lives: document.getElementById('lives-container'),
            };

            let state = {};

            const synth = window.speechSynthesis;
            function hablar(texto) {
                if (synth.speaking) synth.cancel();
                const textoLimpio = texto.replace(/<[^>]*>?/gm, '');
                const utterance = new SpeechSynthesisUtterance(textoLimpio);
                utterance.lang = 'es-ES';
                utterance.rate = 1.0;
                synth.speak(utterance);
            }

            const tutorial = [
                { char: 'Jefa de Seguridad', text: '¬°Hola de nuevo, Detective! La misi√≥n ha cambiado un poco. ¬°Escucha con atenci√≥n!' },
                { char: 'Jefa de Seguridad', text: 'En cada caso, hablar√°s con dos avatares. Uno es amistoso y el otro es un impostor.' },
                { char: 'Jefa de Seguridad', text: 'Si un mensaje te parece **SEGURO**, anal√≠zalo con la **Lupa de la Verdad üîç** para confirmar.' },
                { char: 'Jefa de Seguridad', text: 'Si un mensaje te parece **PELIGROSO**, ¬°no lo dudes! Usa el **Bot√≥n de Alerta üö®** para reportarlo.' },
                { char: 'Jefa de Seguridad', text: 'Cada acierto te da un punto. Pero cuidado, cada error te costar√° una vida. ¬°Tienes 3 oportunidades!' },
                { char: 'Jefa de Seguridad', text: '¬°Mucha suerte! El primer caso est√° por comenzar.' }
            ];

            const cases = [
                { // Caso 1: Cl√°sico y obvio
                    amistoso: { name: 'Leo el Lector', dialogue: '¬°Hola! Me encanta leer. Si quieres, te comparto un enlace a la biblioteca digital del cole. Es muy segura.' },
                    impostor: { name: 'Avatar Veloz', dialogue: '¬°¬°¬°GANA PREMIOS YA!!! <span class="risky-link">CLIC AQUI</span> Y PON TU CONTRASE√ëA para recibir 1000 gemas ¬°AHORA MISMO!', risk: 'La Prisa y El Premio M√°gico' }
                },
                { // Caso 2: Un poco m√°s sutil
                    amistoso: { name: 'Gamer Gabi', dialogue: '¬øTe gustan los videojuegos? Encontr√© un foro genial donde la gente comparte trucos. No piden datos ni nada.' },
                    impostor: { name: 'Usuario_123', dialogue: '¬°Oye! Vi que eres nuevo. Para conseguir el sombrero de fiesta exclusivo, tienes que verificar tu cuenta en este enlace especial que me dieron.', risk: 'El Premio M√°gico y un Enlace Misterioso' }
                },
                { // Caso 3: Presi√≥n social
                    amistoso: { name: 'Artista Ana', dialogue: 'Estoy dibujando en el festival. ¬øQuieres venir a ver? No tienes que hacer clic en nada, solo ac√©rcate a mi zona.' },
                    impostor: { name: 'El Popular', dialogue: 'Todos mis amigos ya se unieron a este grupo secreto para conseguir ropa gratis. ¬øVas a ser el √∫nico que se quede fuera? Entra ya.', risk: 'La Prisa (presi√≥n social) y El Premio M√°gico' }
                }
            ];

            function iniciarJuego() {
                state = {
                    gameState: 'TUTORIAL',
                    dialogueIndex: 0,
                    lives: 3,
                    score: 0,
                    currentCaseIndex: 0,
                    avatarsInCaseHandled: 0,
                    activeAvatarType: null,
                };
                updateUI();
                elements.modal.overlay.classList.remove('visible');
                elements.skipTutorialBtn.style.display = 'block';
                mostrarDialogo(tutorial);
            }

            function updateUI() {
                elements.score.textContent = `Puntos: ${state.score}`;
                elements.lives.innerHTML = '‚ù§Ô∏è'.repeat(state.lives) + 'üñ§'.repeat(3 - state.lives);
            }

            function mostrarDialogo(script) {
                elements.dialogueBox.classList.remove('hidden');
                state.currentScript = script;
                state.dialogueIndex = 0;
                actualizarTextoDialogo();
            }

            function avanzarDialogo() {
                state.dialogueIndex++;
                if (state.dialogueIndex < state.currentScript.length) {
                    actualizarTextoDialogo();
                } else {
                    elements.dialogueBox.classList.add('hidden');
                    if (state.gameState === 'TUTORIAL') {
                        iniciarCaso(0);
                    }
                }
            }
            
            function actualizarTextoDialogo() {
                const linea = state.currentScript[state.dialogueIndex];
                elements.characterName.textContent = linea.char;
                elements.dialogueText.innerHTML = linea.text;
                hablar(linea.text);
            }

            function iniciarCaso(caseIndex) {
                if (caseIndex >= cases.length) {
                    victoriaFinal();
                    return;
                }
                hablar(`Iniciando caso n√∫mero ${caseIndex + 1}`);
                state.gameState = 'AWAITING_INTERACTION';
                state.currentCaseIndex = caseIndex;
                state.avatarsInCaseHandled = 0;
                elements.skipTutorialBtn.style.display = 'none';

                [elements.jefa, elements.amistoso, elements.impostor].forEach(el => el.classList.add('hidden'));
                [elements.amistoso, elements.impostor].forEach(el => {
                    el.classList.remove('hidden', 'inactive');
                });
                
                showModal('¬°Nuevo Caso!', `Investiga a los dos avatares sospechosos.`, '¬°A investigar!', () => elements.modal.overlay.classList.remove('visible'));
            }

            function handleAvatarClick(type, dialogue, name) {
                if (state.gameState !== 'AWAITING_INTERACTION') return;
                
                state.gameState = 'AWAITING_DECISION';
                state.activeAvatarType = type;
                
                elements.dialogueBox.classList.remove('hidden');
                elements.characterName.textContent = name;
                elements.dialogueText.innerHTML = dialogue;
                hablar(dialogue);
                
                elements.lupaBtn.classList.remove('disabled');
                elements.alertaBtn.classList.remove('disabled');
            }

            function tomarDecision(choice) { // choice es 'lupa' o 'alerta'
                if (state.gameState !== 'AWAITING_DECISION') return;

                const isCorrect = (choice === 'lupa' && state.activeAvatarType === 'amistoso') ||
                                  (choice === 'alerta' && state.activeAvatarType === 'impostor');
                
                if (isCorrect) {
                    handleCorrectChoice();
                } else {
                    handleIncorrectChoice();
                }
                
                elements.dialogueBox.classList.add('hidden');
                elements.lupaBtn.classList.add('disabled');
                elements.alertaBtn.classList.add('disabled');
            }

            function handleCorrectChoice() {
                hablar("¬°Correcto!");
                state.score++;
                state.avatarsInCaseHandled++;
                
                const avatarElement = elements[state.activeAvatarType];
                avatarElement.classList.add('inactive');
                
                updateUI();
                
                if (state.avatarsInCaseHandled === 2) {
                    showModal('¬°Caso Resuelto!', '¬°Buen trabajo, detective! Preparando el siguiente caso...', 'Continuar', () => iniciarCaso(state.currentCaseIndex + 1));
                } else {
                    state.gameState = 'AWAITING_INTERACTION';
                }
            }

            function handleIncorrectChoice() {
                hablar("Oh no, esa no era la decisi√≥n correcta.");
                state.lives--;
                updateUI();
                
                const currentCase = cases[state.currentCaseIndex];
                let explanation = '';
                if (state.activeAvatarType === 'amistoso') {
                    explanation = 'Este mensaje era seguro. La Lupa üîç era la herramienta correcta.';
                } else {
                    explanation = `Este mensaje era peligroso por: <strong>${currentCase.impostor.risk}</strong>. El Bot√≥n de Alerta üö® era la opci√≥n correcta.`;
                }

                if (state.lives <= 0) {
                    gameOver();
                } else {
                    showModal('¬°Decisi√≥n Incorrecta!', explanation, 'Intentar de nuevo', () => {
                        elements.modal.overlay.classList.remove('visible');
                        state.gameState = 'AWAITING_INTERACTION';
                    });
                }
            }

            function gameOver() {
                hablar("Oh no, te has quedado sin vidas. Pero no te preocupes, puedes volver a intentarlo.");
                showModal('¬°Juego Terminado!', `¬°No te rindas, detective! Has aprendido mucho. ¬°Int√©ntalo de nuevo para resolver todos los casos! Tu puntuaci√≥n fue: ${state.score}`, 'Jugar de nuevo', iniciarJuego);
            }

            function victoriaFinal() {
                 hablar("¬°Felicidades, detective! Has resuelto todos los casos.");
                 showModal('¬°FELICIDADES!', `¬°Has resuelto todos los misterios y protegido el festival! Eres un verdadero Detective de la Verdad. Puntuaci√≥n final: ${state.score}`, 'Jugar de nuevo', iniciarJuego);
            }

            function showModal(title, text, buttonText, onButtonClick) {
                elements.modal.title.textContent = title;
                elements.modal.text.innerHTML = text;
                elements.modal.button.textContent = buttonText;
                elements.modal.button.onclick = onButtonClick;
                elements.modal.overlay.classList.add('visible');
                hablar(`${title}. ${text}`);
            }

            // --- Event Listeners ---
            elements.dialogueBox.addEventListener('click', avanzarDialogo);
            elements.skipTutorialBtn.addEventListener('click', (e) => { e.stopPropagation(); iniciarCaso(0); });
            elements.lupaBtn.addEventListener('click', () => tomarDecision('lupa'));
            elements.alertaBtn.addEventListener('click', () => tomarDecision('alerta'));
            elements.amistoso.addEventListener('click', () => {
                if(elements.amistoso.classList.contains('inactive')) return;
                const currentCase = cases[state.currentCaseIndex];
                handleAvatarClick('amistoso', currentCase.amistoso.dialogue, currentCase.amistoso.name);
            });
            elements.impostor.addEventListener('click', () => {
                if(elements.impostor.classList.contains('inactive')) return;
                const currentCase = cases[state.currentCaseIndex];
                handleAvatarClick('impostor', currentCase.impostor.dialogue, currentCase.impostor.name);
            });

            iniciarJuego();
        });
    </script>
</body>
</html>
72.6s
Use Arrow Up and Arrow Down to select a turn, Enter to jump to it, and Escape to return to the chat.
Start typing a prompt

Run
Ctrl
1




65536
0.95
